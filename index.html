<!--
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <title>GIKI Ramadan Prayer Times</title>
    <!-- Updated font import to include Uthmanic Script font -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Nastaliq+Urdu&display=swap" rel="stylesheet">
    <!-- Added KFGQPC Uthmanic Script font -->
    <style>
        @font-face {
            font-family: 'KFGQPC Uthmanic Script';
            src: url('https://cdn.islamic.network/quran/fonts/quran/hafs/v1/woff2/QCF_P001.woff2') format('woff2');
            font-weight: normal;
            font-style: normal;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #fff;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #0a1f44 0%, #1e3a8a 100%);
            min-height: 100vh;
        }
        
        /* Updated Arabic text style to use Uthmanic Script font */
        .arabic-text {
            font-family: 'KFGQPC Uthmanic Script', serif;
            direction: rtl;
            line-height: 2;
            font-size: 1.6rem;
            margin-bottom: 15px;
            word-spacing: 0.2em;
            letter-spacing: 0.03em;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
        }
        
        .clock-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 80px;
            height: 80px;
        }
        
        h1 {
            color: #fff;
            margin-bottom: 10px;
            font-size: 2.2rem;
        }
        
        .date-display {
            font-size: 1.2rem;
            color: #a1b9ff;
            margin-bottom: 15px;
        }
        
        .islamic-date {
            font-weight: bold;
            color: #4fc3f7;
        }
        
        .main-times {
            display: flex;
            justify-content: space-between;
            margin-bottom: 40px;
        }
        
        .primary-time {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            width: 45%;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .primary-time h2 {
            margin-top: 0;
            color: #4fc3f7;
            font-size: 1.8rem;
        }
        
        .time-display {
            font-size: 2.5rem;
            font-weight: bold;
            margin: 10px 0;
            color: #fff;
        }
        
        .daily-prayers {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .daily-prayers h2 {
            margin-top: 0;
            color: #4fc3f7;
            text-align: center;
            margin-bottom: 25px;
        }
        
        .prayer-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 20px;
        }
        
        .prayer-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 15px;
            text-align: center;
            transition: transform 0.2s;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .prayer-card:hover {
            transform: translateY(-5px);
        }
        
        .prayer-name {
            font-size: 1.3rem;
            color: #a1b9ff;
            margin-bottom: 10px;
        }
        
        .prayer-time {
            font-size: 1.5rem;
            font-weight: bold;
        }
        
        .daily-inspiration {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .inspiration-box {
            flex: 1;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
        }
        
        .inspiration-box::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100px;
            height: 100px;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 50%;
            transform: translate(30%, -30%);
        }
        
        .inspiration-box h3 {
            margin-top: 0;
            color: #4fc3f7;
            font-size: 1.5rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }
        
        .inspiration-box h3 span {
            font-size: 1.3rem;
            margin-right: 10px;
        }
        
        .inspiration-text {
            font-size: 1.1rem;
            line-height: 1.8;
            margin-bottom: 15px;
            position: relative;
            z-index: 1;
        }
        
        .inspiration-source {
            font-style: italic;
            color: #a1b9ff;
            font-size: 0.9rem;
            text-align: right;
        }
        
        .refresh-button {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: #a1b9ff;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            margin-left: auto;
            transition: all 0.2s;
        }
        
        .refresh-button:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: rotate(180deg);
        }
        
        .note {
            text-align: center;
            font-style: italic;
            color: #a1b9ff;
            margin: 20px 0;
        }
        
        footer {
            text-align: center;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: #a1b9ff;
            font-size: 0.9rem;
        }
        
        .loading {
            text-align: center;
            color: #a1b9ff;
            font-style: italic;
        }
        
        @media (max-width: 768px) {
            .main-times {
        flex-direction: column;
        align-items: center; /* Center items horizontally */
        justify-content: center;
        text-align: center;
    }

    .primary-time {
        width: 80%; /* Adjust width for better centering */
        margin-bottom: 20px;
    }

    .time-display {
        font-size: 2rem;
    }
            
            .daily-inspiration {
                flex-direction: column;
            }
            
            .clock-container {
                position: relative;
                margin: 0 auto 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="clock-container">
                <canvas id="clock" width="80" height="80"></canvas>
            </div>
            <h1>GIKI Ramadan Prayer Timings</h1>
            <div class="date-display">
                Today: <span id="current-date"></span> | 
                Islamic Date: <span class="islamic-date" id="islamic-date"></span>
            </div>
        </header>
        
        <div class="main-times">
            <div class="primary-time">
                <h2>Sehri Ends</h2>
                <div class="time-display" id="today-sehri"></div>
            </div>
            
            <div class="primary-time">
                <h2>Iftar Time</h2>
                <div class="time-display" id="today-iftar"></div>
            </div>
        </div>
        
        <div class="daily-prayers">
            <h2>Daily Prayer Timings (Students' Mosque GIKI)</h2>
            <div class="prayer-grid">
                <div class="prayer-card">
                    <div class="prayer-name">Fajr</div>
                    <div class="prayer-time" id="today-fajr"></div>
                </div>
                
                <div class="prayer-card">
                    <div class="prayer-name">Dhuhr</div>
                    <div class="prayer-time" id="today-dhuhr"></div>
                </div>
                
                <div class="prayer-card">
                    <div class="prayer-name">Asr</div>
                    <div class="prayer-time" id="today-asr"></div>
                </div>
                
                <div class="prayer-card">
                    <div class="prayer-name">Maghrib</div>
                    <div class="prayer-time" id="today-maghrib"></div>
                </div>
                
                <div class="prayer-card">
                    <div class="prayer-name">Isha</div>
                    <div class="prayer-time" id="today-isha"></div>
                </div>
                <div class="prayer-card">
                    <div class="prayer-name">Salatul-Jumu'ah</div>
                    <div class="prayer-time" id="today-friday_prayer"></div>
                </div>
            </div>
        </div>
        
        <div class="daily-inspiration">
            <div class="inspiration-box">
                <h3>
                    <span>🕋</span> Quranic Verse
                    <button class="refresh-button" id="refresh-quran" title="Load another verse">↻</button>
                </h3>
                <div id="quran-content">
                    <div class="loading">Loading verse...</div>
                </div>
            </div>
            
            <div class="inspiration-box">
                <h3>
                    <span>📜</span> Hadith of the Day
                    <button class="refresh-button" id="refresh-hadith" title="Load another hadith">↻</button>
                </h3>
                <div id="hadith-content">
                    <div class="loading">Loading hadith...</div>
                </div>
            </div>
        </div>
        
        <div class="note">Note: 1 minute preventative difference in Sehri (-1 min) & Iftar (+1 min)</div>
        
        <footer>
            <p>GIKI Ramadan Prayer Timings Calendar. Updated for Ramadan 2025.</p>
        </footer>
    </div>

    <script>
        // Ramadan 2025 start date - March 2, 2025
        const RAMADAN_START_DATE = new Date(2025, 2, 2); // March 2, 2025 (0-indexed month)
        const RAMADAN_DAYS = 30;
        
        // Actual Sehri and Iftar times for GIKI
        // Format: [sehri time, iftar time, gregorian date]
        const ramadanTimes = [
            ["05:13 AM", "6:08 PM", "02 Mar 2025"], // 1st Ramadan
            ["05:12 AM", "6:08 PM", "03 Mar 2025"],
            ["05:11 AM", "6:09 PM", "04 Mar 2025"],
            ["05:09 AM", "6:10 PM", "05 Mar 2025"],
            ["05:08 AM", "6:11 PM", "06 Mar 2025"],
            ["05:07 AM", "6:12 PM", "07 Mar 2025"],
            ["05:05 AM", "6:13 PM", "08 Mar 2025"],
            ["05:04 AM", "6:13 PM", "09 Mar 2025"],
            ["05:03 AM", "6:14 PM", "10 Mar 2025"],
            ["05:01 AM", "6:15 PM", "11 Mar 2025"], // 10th Ramadan
            ["05:00 AM", "6:16 PM", "12 Mar 2025"],
            ["04:59 AM", "6:17 PM", "13 Mar 2025"],
            ["04:57 AM", "6:17 PM", "14 Mar 2025"],
            ["04:56 AM", "6:18 PM", "15 Mar 2025"],
            ["04:55 AM", "6:19 PM", "16 Mar 2025"],
            ["04:53 AM", "6:20 PM", "17 Mar 2025"],
            ["04:52 AM", "6:21 PM", "18 Mar 2025"],
            ["04:50 AM", "6:21 PM", "19 Mar 2025"],
            ["04:49 AM", "6:22 PM", "20 Mar 2025"],
            ["04:47 AM", "6:23 PM", "21 Mar 2025"], // 20th Ramadan
            ["04:46 AM", "6:24 PM", "22 Mar 2025"],
            ["04:44 AM", "6:24 PM", "23 Mar 2025"],
            ["04:43 AM", "6:25 PM", "24 Mar 2025"],
            ["04:42 AM", "6:26 PM", "25 Mar 2025"],
            ["04:40 AM", "6:27 PM", "26 Mar 2025"],
            ["04:39 AM", "6:27 PM", "27 Mar 2025"],
            ["04:37 AM", "6:28 PM", "28 Mar 2025"],
            ["04:36 AM", "6:29 PM", "29 Mar 2025"],
            ["04:34 AM", "6:30 PM", "30 Mar 2025"],
            ["04:33 AM", "6:31 PM", "31 Mar 2025"]  // 30th Ramadan
        ];
        
        // Fixed prayer times - edit these directly in the code
        // These times remain the same unless changed in the code
        const fixedPrayerTimes = {
            fajr: "05:10 AM",
            dhuhr: "01:45 PM",
            asr: "05:15 PM",
            maghrib: "06:15 PM",  // This will be overridden by iftar times
            isha: "08:15 PM",
            friday_prayer: "1:30 PM"
        };
        
        // Function to draw the analog clock
        function drawClock() {
            const canvas = document.getElementById('clock');
            const ctx = canvas.getContext('2d');
            const radius = canvas.height / 2;
            ctx.translate(radius, radius);
            const radiusScale = 0.9; // Scale to make room for the border
            
            // Update the time
            function updateClock() {
                drawFace(ctx, radius * radiusScale);
                drawNumbers(ctx, radius * radiusScale);
                
                const now = new Date();
                const hour = now.getHours() % 12;
                const minute = now.getMinutes();
                const second = now.getSeconds();
                
                drawHand(ctx, (hour*30) + (minute*0.5), radius * 0.5, radius * 0.07, '#fff');
                drawHand(ctx, minute * 6, radius * 0.8, radius * 0.05, '#4fc3f7');
                drawHand(ctx, second * 6, radius * 0.85, radius * 0.02, '#ff6b6b');
                
                // Draw center circle
                ctx.beginPath();
                ctx.arc(0, 0, radius * 0.1, 0, 2 * Math.PI);
                ctx.fillStyle = '#fff';
                ctx.fill();
            }
            
            function drawFace(ctx, radius) {
                // Clear canvas
                ctx.clearRect(-canvas.width/2, -canvas.height/2, canvas.width, canvas.height);
                
                // Draw clock face
                ctx.beginPath();
                ctx.arc(0, 0, radius, 0, 2 * Math.PI);
                ctx.fillStyle = 'rgba(255, 255, 255, 0.1)';
                ctx.fill();
                ctx.strokeStyle = 'rgba(255, 255, 255, 0.3)';
                ctx.lineWidth = radius * 0.05;
                ctx.stroke();
            }
            
            function drawNumbers(ctx, radius) {
                ctx.font = radius * 0.25 + "px Arial";
                ctx.textBaseline = "middle";
                ctx.textAlign = "center";
                ctx.fillStyle = '#fff';
                
                // Draw hour dots instead of numbers to keep it clean
                for (let num = 1; num <= 12; num++) {
                    const ang = num * Math.PI / 6;
                    ctx.beginPath();
                    const x = Math.sin(ang) * (radius * 0.85);
                    const y = -Math.cos(ang) * (radius * 0.85);
                    ctx.arc(x, y, radius * 0.03, 0, 2 * Math.PI);
                    ctx.fillStyle = '#fff';
                    ctx.fill();
                }
            }
            
            function drawHand(ctx, pos, length, width, color) {
                ctx.beginPath();
                ctx.lineWidth = width;
                ctx.lineCap = "round";
                ctx.strokeStyle = color;
                
                const angle = (pos - 90) * Math.PI / 180;
                ctx.moveTo(0, 0);
                ctx.lineTo(length * Math.cos(angle), length * Math.sin(angle));
                ctx.stroke();
            }
            
            // Call updateClock every second
            setInterval(updateClock, 1000);
            updateClock(); // Initial draw
        }
        
        // Function to format date as "DD Month YYYY"
        function formatDate(date) {
            const options = { day: 'numeric', month: 'long', year: 'numeric' };
            return date.toLocaleDateString('en-US', options);
        }
        
        // Function to get Islamic date
        function getIslamicDate(gregorianDate) {
            // Calculate days since Ramadan started
            const daysSinceStart = Math.floor((gregorianDate - RAMADAN_START_DATE) / (1000 * 60 * 60 * 24));
            if (daysSinceStart >= 0 && daysSinceStart < RAMADAN_DAYS) {
                return `${daysSinceStart + 1} Ramadan 1446`;
            } else {
                return "Not Ramadan";
            }
        }
        
        // Function to get Ramadan day number (0-based index) for today
        function getRamadanDayIndex() {
            const today = new Date();
            const daysSinceStart = Math.floor((today - RAMADAN_START_DATE) / (1000 * 60 * 60 * 24));
            
            if (daysSinceStart >= 0 && daysSinceStart < RAMADAN_DAYS) {
                return daysSinceStart;
            }
            return -1; // Not Ramadan
        }
        
        // Function to update today's display
        function updateTodayDisplay() {
            const currentDateEl = document.getElementById('current-date');
            const islamicDateEl = document.getElementById('islamic-date');
            
            const today = new Date();
            currentDateEl.textContent = formatDate(today);
            
            const ramadanDay = getRamadanDayIndex();
            if (ramadanDay >= 0) {
                islamicDateEl.textContent = `${ramadanDay + 1} Ramadan 1446`;
                
                // Update today's sehri and iftar times
                document.getElementById('today-sehri').textContent = ramadanTimes[ramadanDay][0];
                document.getElementById('today-iftar').textContent = ramadanTimes[ramadanDay][1];
                
                // Update fixed prayer times
                document.getElementById('today-fajr').textContent = fixedPrayerTimes.fajr;
                document.getElementById('today-dhuhr').textContent = fixedPrayerTimes.dhuhr;
                document.getElementById('today-asr').textContent = fixedPrayerTimes.asr;
                document.getElementById('today-maghrib').textContent = ramadanTimes[ramadanDay][1]; // Use iftar time for maghrib
                document.getElementById('today-isha').textContent = fixedPrayerTimes.isha;
                document.getElementById('today-friday_prayer').textContent = fixedPrayerTimes.friday_prayer;

            } else {
                islamicDateEl.textContent = "Not Ramadan";
                
                // If not Ramadan, display fixed prayer times anyway
                document.getElementById('today-sehri').textContent = "N/A";
                document.getElementById('today-iftar').textContent = "N/A";
                
                document.getElementById('today-fajr').textContent = fixedPrayerTimes.fajr;
                document.getElementById('today-dhuhr').textContent = fixedPrayerTimes.dhuhr;
                document.getElementById('today-asr').textContent = fixedPrayerTimes.asr;
                document.getElementById('today-maghrib').textContent = fixedPrayerTimes.maghrib;
                document.getElementById('today-isha').textContent = fixedPrayerTimes.isha;
                document.getElementById('today-friday_prayer').textContent = fixedPrayerTimes.friday_prayer;

            }
        }
        
        // Enhanced Quranic verse data with Arabic and translation
        const quranVerses = [
            {
                arabic: "إِنَّ مَعَ الْعُسْرِ يُسْرًا",
                english: "Indeed, with hardship will be ease.",
                source: "Surah Ash-Sharh (94:6)"
            },
            {
                arabic: "فَإِنَّ مَعَ الْعُسْرِ يُسْرًا، إِنَّ مَعَ الْعُسْرِ يُسْرًا",
                english: "So verily, with the hardship, there is relief. Verily, with the hardship, there is relief.",
                source: "Surah Ash-Sharh (94:5-6)"
            },
            {
                arabic: "وَإِذَا سَأَلَكَ عِبَادِي عَنِّي فَإِنِّي قَرِيبٌ ۖ أُجِيبُ دَعْوَةَ الدَّاعِ إِذَا دَعَانِ",
                english: "And when My servants ask you concerning Me - indeed I am near. I respond to the invocation of the supplicant when he calls upon Me.",
                source: "Surah Al-Baqarah (2:186)"
            },
            {
                arabic: "يَا أَيُّهَا الَّذِينَ آمَنُوا كُتِبَ عَلَيْكُمُ الصِّيَامُ كَمَا كُتِبَ عَلَى الَّذِينَ مِن قَبْلِكُمْ لَعَلَّكُمْ تَتَّقُونَ",
                english: "O you who have believed, decreed upon you is fasting as it was decreed upon those before you that you may become righteous.",
                source: "Surah Al-Baqarah (2:183)"
            },
            {
                arabic: "لَا يُكَلِّفُ اللَّهُ نَفْسًا إِلَّا وُسْعَهَا",
                english: "Allah does not burden a soul beyond that it can bear.",
                source: "Surah Al-Baqarah (2:286)"
            },
            {
                arabic: "شَهْرُ رَمَضَانَ الَّذِي أُنْزِلَ فِيهِ الْقُرْآنُ هُدًى لِلنَّاسِ وَبَيِّنَاتٍ مِنَ الْهُدَىٰ وَالْفُرْقَانِ",
                english: "The month of Ramadan is that in which was revealed the Quran, a guidance for the people and clear proofs of guidance and criterion.",
                source: "Surah Al-Baqarah (2:185)"
            },
            {
                arabic: "وَكُلُوا وَاشْرَبُوا حَتَّىٰ يَتَبَيَّنَ لَكُمُ الْخَيْطُ الْأَبْيَضُ مِنَ الْخَيْطِ الْأَسْوَدِ مِنَ الْفَجْرِ",
                english: "And eat and drink until the white thread of dawn becomes distinct to you from the black thread [of night].",
                source: "Surah Al-Baqarah (2:187)"
            }
        ];
        
        // Enhanced Hadith data
        const hadiths = [
            {
                text: "When the month of Ramadan starts, the gates of the heaven are opened and the gates of Hell are closed and the devils are chained.",
                source: "Sahih al-Bukhari 1899"
            },
            {
                text: "Whoever fasts during Ramadan out of sincere faith and hoping to attain Allah's rewards, then all his past sins will be forgiven.",
                source: "Sahih al-Bukhari 38"
            },
            {
                text: "The Prophet (ﷺ) said, 'Whoever does not give up forged speech and evil actions, Allah is not in need of his leaving his food and drink.'",
                source: "Sahih al-Bukhari 1903"
            },
            {
                text: "Allah's Messenger (ﷺ) said: 'When the month of Ramadan begins, the gates of Paradise are opened, the gates of Hell are closed, and the devils are chained.'",
                source: "Sahih al-Bukhari 3277"
            },
            {
                text: "The Prophet (ﷺ) said, 'Take Sahur (pre-dawn meal) as there is a blessing in it.'",
                source: "Sahih al-Bukhari 1923"
            }
        ];
        
        // Function to fetch Quranic verse - now uses local data but still simulates API fetch
        async function fetchQuranVerse() {
            document.getElementById('quran-content').innerHTML = '<div class="loading">Loading verse...</div>';
            
            // Simulate API fetch delay
            await new Promise(resolve => setTimeout(resolve, 500));
            
            try {
                // Use local verses instead of API
                const randomVerse = quranVerses[Math.floor(Math.random() * quranVerses.length)];
                
                let html = `
                    <div class="arabic-text">${randomVerse.arabic}</div>
                    <div class="inspiration-text">${randomVerse.english}</div>
                    <div class="inspiration-source">${randomVerse.source}</div>
                `;
                
                document.getElementById('quran-content').innerHTML = html;
            } catch (error) {
                document.getElementById('quran-content').innerHTML = `
                    <div class="inspiration-text">Failed to load verse. Please try again.</div>
                `;
            }
        }
        
        // Function to fetch Hadith - now uses local data but still simulates API fetch
        async function fetchHadith() {
            document.getElementById('hadith-content').innerHTML = '<div class="loading">Loading hadith...</div>';
            
            // Simulate API fetch delay
            await new Promise(resolve => setTimeout(resolve, 500));
            
            try {
                // Use local hadith data
                const randomHadith = hadiths[Math.floor(Math.random() * hadiths.length)];
                
                let html = `
                    <div class="inspiration-text">${randomHadith.text}</div>
                    <div class="inspiration-source">${randomHadith.source}</div>
                `;
                
                document.getElementById('hadith-content').innerHTML = html;
            } catch (error) {
                document.getElementById('hadith-content').innerHTML = `
                    <div class="inspiration-text">Failed to load hadith. Please try again.</div>
                `;
            }
        }
        
        // Initialize the page
        window.addEventListener('load', function() {
            drawClock();
            updateTodayDisplay();
            fetchQuranVerse();
            fetchHadith();
            
            // Update the time every minute
            setInterval(updateTodayDisplay, 60000);
            
            // Add event listeners for refresh buttons
            document.getElementById('refresh-quran').addEventListener('click', fetchQuranVerse);
            document.getElementById('refresh-hadith').addEventListener('click', fetchHadith);
        });
    </script>
</body>
</html>
-->
